flow FromDonatedFossil1st_Known():
    if EventFlowSystemActor.MuseumDonationNumCheck(20):
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:152', false)
        MainNpc.NpcDelivery(10, '"Default"')
        if System.EventFlags['cLand:OwlFoundFossil']:
            run SNPC_owl_00_Common::Again()
        else:
            run SNPC_owl_01_Museum_Donation::Eplanation_ExpertOpinion()
    else:
        if EventFlowSystemActor.MuseumDonationNumCheck(19):
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:154', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:153', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            run SNPC_owl_02_Museum_Judgment::Donation_Accept()
            run owl_Tent_AfterDonation()
        else:
            run SNPC_owl_02_Museum_Judgment::Donation_Decline()

flow Owl_TentDonationAgainAsk():
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:161', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run SNPC_owl_01_Museum_Donation::OwlTentDonationAgain()
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:162', false)
        run Owl_TentDonationAgainAsk_NoFossil()

flow Owl_TentDonationAgainAsk_NoFossil():
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:111', false)

flow owl_DonatedFossil1st_Known():
    System.EventFlags['cPlayerTemp:OwlKnownFossil'] = true
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:151_02', false)
    if EventFlowSystemActor.MuseumLevel() in (`BlathersNotMovedIn`, `BlathersTent`):
        run FromDonatedFossil1st_Known()
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:151_03', false)
        run SNPC_owl_01_Museum_Donation::Fossil_DonationTypeChk()

flow owl_DonatedFossil1st_Unknown():
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:151_01', false)
    run SNPC_owl_02_Museum_Judgment::Fossil_Check()
    if EventFlowSystemActor.MuseumLevel() in (`BlathersNotMovedIn`, `BlathersTent`):
        run FromDonatedFossil1st_Known()
    else:
        run SNPC_owl_01_Museum_Donation::Fossil_DonationTypeChk()

flow owl_Tent_AfterDonation():
    System.EventFlags['cPlayer:OwlDonationDone'] = true
    if EventFlowSystemActor.MuseumDonationNumCheck(20):
        System.EventFlags['cPlayer:FutaReadyForMuseum'] = true
        System.EventFlags['cPlayer:FutaReadyForMuseumToday'] = true
        System.EventFlags['cLand:MuseumGrowupEnable1'] = true
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:191', false)
        if System.EventFlags['cLand:MuseumTentBuiltToday']:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:191_01', false)
            System.EventFlags['cLand:MuseumGrowupEnable1'] = true
            System.EventFlags['cLand:FinishMuseumPreparation1stDay'] = true
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:191_02', false)
    else:
        System.EventFlags['cLand:DonationAmountForMuseum'] += -1
        EventFlowSystemActor.SetTagFromSystem('cEventFlag', 'cDegit', 0, 0, 'cLand:DonationAmountForMuseum')
        if System.EventFlags['cLand:OwlFoundFossil']:
            if EventFlowSystemActor.HasKindItem('cFilter', '', 'OwlTentDonation3'):
                run Owl_TentDonationAgainAsk()
            else:
                run Owl_TentDonationAgainAsk_NoFossil()
        elif EventFlowSystemActor.HasKindItem('cFilter', '', 'OwlTentDonation2'):
            run Owl_TentDonationAgainAsk()
        else:
            run Owl_TentDonationAgainAsk_NoFossil()

