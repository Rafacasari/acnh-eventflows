flow AfterEv():
    if not EventFlowSystemActor.IsMyVillage():
        if System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_AfterEv']:
            run AfterEv_2nd()
        else:
            System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_AfterEv'] = true
            if System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv']:
                run AfterEv_First()
            else:
                run AfterEv_SNPC_First()
    elif System.EventFlags['cPlayer:ChmTalkFirst_AfterEv']:
        run AfterEv_2nd()
    else:
        System.EventFlags['cPlayer:ChmTalkFirst_AfterEv'] = true
        if System.EventFlags['cPlayer:ChyEvent_TalkFirst']:
            if EventFlowSystemActor.IsSharePlay(0):
entrypoint Event432:
                if EventFlowSystemActor.EventCheck('InsectConvention') in (0, 1, 2):
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:080', false)
                    switch EventFlowSystemActor.GeneralTalkChoice3():
                        case 0:
                            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:081', false)
                        case 1:
                            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:082', false)
                        case 2:
                            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:083', false)
                    if System.EventFlags['cPlayer:CatchInsectFesCount'] <= 10:
                        if System.EventFlags['cPlayer:CatchInsectFesCount'] != 10:
                            run Sub_grp_Event430()
                        else:
                            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:084', false)
                            run Sub_grp_Event407()
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:085', false)
                        run Sub_grp_Event407()
                else:
                    run Sub_Event400()
            else:
                run Sub_Event400()
        else:
            System.EventFlags['cPlayer:ChyEvent_TalkFirst'] = true
            if System.EventFlags['cPlayer:ChyDaily_TalkFirst']:
                run Sub_Event400()
            else:
                System.EventFlags['cPlayer:ChyDaily_TalkFirst'] = true
entrypoint Event287:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:090', false)
                run Sub_grp_Event398()

flow AfterEv_2nd():
    if System.EventFlags['cPlayer:CatchInsectFesCount'] < 10:
        run AfterEv_Always()
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:100', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            run PointCheck()
        else:
            run AfterEv_Always()

flow AfterEv_Always():
    if EventFlowSystemActor.EventCheck('InsectConvention') not in (0, 1, 2):
        run Talk_AfterEv()
    elif EventFlowSystemActor.EnvWeatherArea() == `cWeatherArea_North`:
        if EventFlowSystemActor.EnvMonth() in (`January`, `February`, `March`, `April`, `May`, `June`, `July`, `August`):
            switch EventFlowSystemActor.RandomChoice3(3):
                case 0:
                    run AfterEv_TalkNextMonth()
                case 1:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:102', false)
                case 2:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:103', false)
        else:
            switch EventFlowSystemActor.RandomChoice3(3):
                case 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:103', false)
                case 1:
                    run AfterEv_TalkNextYear()
                case 2:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:105', false)
    else:
        switch EventFlowSystemActor.EnvMonth():
            case `January`, `February`, `March`, `April`, `May`, `June`, `July`, `August`, `September`, `November`:
                switch EventFlowSystemActor.RandomChoice3(3):
                    case 0:
                        run AfterEv_TalkNextMonth()
                    case 1:
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:102', false)
                    case 2:
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:103', false)
            case `December`:
                switch EventFlowSystemActor.RandomChoice3(3):
                    case 0:
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:103', false)
                    case 1:
                        run AfterEv_TalkNextYear()
                    case 2:
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:105', false)
            default:
                return

flow AfterEv_First():
    run Event432()

flow AfterEv_SNPC_First():
    run Event287()

flow AfterEv_TalkNextMonth():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:101', false)

flow AfterEv_TalkNextYear():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:104', false)

flow BeforeEV_SNPC_First():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:000', true)

flow BeforeEv():
    if not EventFlowSystemActor.IsMyVillage():
        if not System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv']:
            System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv'] = true
            run BeforeEV_SNPC_First()
        elif System.EventFlags['cPlayer:CatchInsectFesCount'] < 10:
            run BeforeEv_Always()
        elif System.EventFlags['cPlayerVisit:DC_ChmTalkPoint_BeforeEv']:
            run BeforeEv_2nd()
        else:
            System.EventFlags['cPlayerVisit:DC_ChmTalkPoint_BeforeEv'] = true
            run BeforeEv_PointCheck()
    elif not System.EventFlags['cPlayer:ChyEvent_TalkFirst']:
        System.EventFlags['cPlayer:ChyEvent_TalkFirst'] = true
        if System.EventFlags['cPlayer:ChyDaily_TalkFirst']:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:169', true)
        else:
            System.EventFlags['cPlayer:ChyDaily_TalkFirst'] = true
            if EventFlowSystemActor.IsSharePlay(0):
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:169', true)
            else:
                run BeforeEV_SNPC_First()
    elif System.EventFlags['cPlayer:CatchInsectFesCount'] < 10:
        run BeforeEv_Always()
    elif System.EventFlags['cPlayer:ChmTalkPoint_BeforeEv']:
        run BeforeEv_2nd()
    else:
        System.EventFlags['cPlayer:ChmTalkPoint_BeforeEv'] = true
        run BeforeEv_PointCheck()

flow BeforeEv_2nd():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:006', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run PointExchange()
    else:
        run BeforeEv_Always()

flow BeforeEv_Always():
    switch EventFlowSystemActor.RandomChoiceExcludePrevious3(3, true):
        case 0:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:001', true)
        case 1:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:002', true)
        case 2:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:003', true)

flow BeforeEv_PointCheck():
    if System.EventFlags['cPlayer:CatchInsectFesCount'] != 10:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:004', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:005', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run PointExchange()
    else:
        run PointExCancel()

flow Check_EvQ_Entry():
    if not EventFlowSystemActor.NetHasVisitor():
        run Check_Item()
    elif not EventFlowSystemActor.UIMiniGameCanStart():
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:068', true)
    elif not MainNpc.ChmFreeQuery2('cChmQueryType_FesBoxNotEmpty'):
        run Check_Item()
    elif MainNpc.ChmFreeQuery2('cChmQueryType_BoxNotEmptyNum'):
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:067', true)
    else:
        EventFlowSystemActor.SetTagFromSystem('cInsectBoxPlayer', 'cDegit', 0, 0, '')
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:066', true)

flow Check_Item():
    if EventFlowSystemActor.HasKindItem('cKind', 'Net', ''):
        run EvQ_Entry()
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:060', true)

flow Check_TotaiPoint():
    if System.EventFlags['cPlayer:ChyEvent_TotalPoint'] >= 300:
        if System.EventFlags['cPlayer:ChyEvent_TalkTrophyGold']:
            run GetPoint_next()
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:200', false)
            run TotalPoint_To_oedinaryP()
            System.EventFlags['cPlayer:ChyEvent_TalkTrophyGold'] = true
            if System.EventFlags['cPlayer:ChyEvent_TalkTrophySilver']:
                run GetPoint_next()
            else:
                run Sub_Event379()
    elif System.EventFlags['cPlayer:ChyEvent_TotalPoint'] < 200:
        if (System.EventFlags['cPlayer:ChyEvent_TotalPoint'] >= 100) and (not System.EventFlags['cPlayer:ChyEvent_TalkTrophyCopper']):
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:202', false)
            run TotalPoint_To_oedinaryP()
            run Sub_Event376()
        else:
            run GetPoint_next()
    else:
        if System.EventFlags['cPlayer:ChyEvent_TalkTrophySilver']:
            run GetPoint_next()
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:201', false)
            run TotalPoint_To_oedinaryP()
            run Sub_Event379()

flow Check_pay500():
    EventFlowSystemActor.UIMoneyAppear()
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:062_01', false)
    EventFlowSystemActor.BellCountDown(500, true)
    EventFlowSystemActor.UIMoneyDisappear()

flow EvQ_Entry():
    if EventFlowSystemActor.IsMyVillage():
        if System.EventFlags['cPlayer:ChmTalkFirst_EvQuestFinish']:
            if EventFlowSystemActor.NetHasVisitor():
entrypoint Event92:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:064', true)
                run Sub_Event95()
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:062', false)
                if EventFlowSystemActor.GeneralTalkChoice2() != 0:
                    run EvQ_Entry_Cancel()
                elif EventFlowSystemActor.HasBellCount(500):
                    run Check_pay500()
                    run Sub_Event356()
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:061', true)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:065', false)
            if EventFlowSystemActor.NetHasVisitor():
                run EvQ_Start()
            else:
                run Sub_Event356()
    else:
        if System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_EvQuestFinish']:
            run EvQ_Start()
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:065', false)
            if EventFlowSystemActor.NetHasVisitor():
                run EvQ_Start()
            else:
                run Sub_Event356()

flow EvQ_Entry_Cancel():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:024', false)

flow EvQ_Start():
    run Event92()

flow GetPoint_next():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:208', false)
    if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:209', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:210', false)

flow OpenEv():
    if not EventFlowSystemActor.IsMyVillage():
        if System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_EvQuestFinish']:
            run OpenEv_AfterQ()
        elif System.EventFlags['cPlayerVisit:DC_ChmTalkRuleFirst']:
            run OpenEv_BeforeQ()
        else:
            System.EventFlags['cPlayerVisit:DC_ChmTalkRuleFirst'] = true
            if System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv']:
                run OpenEv_BeforeQ_First()
            else:
                System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv'] = true
                run OpenEv_SNPC_First()
    elif System.EventFlags['cPlayer:ChmTalkFirst_EvQuestFinish']:
        run OpenEv_AfterQ()
    elif System.EventFlags['cPlayer:ChmTalkRuleFirst']:
        if EventFlowSystemActor.NetHasVisitor():
entrypoint Event239:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:034', false)
            run Sub_grp_Event241()
        elif EventFlowSystemActor.IsSharePlay(0):
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:171', false)
            run Sub_grp_Event241()
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:026', false)
            run Sub_grp_Event241()
    else:
        System.EventFlags['cPlayer:ChmTalkRuleFirst'] = true
        if System.EventFlags['cPlayer:ChyEvent_TalkFirst']:
            run Sub_grp_Event337()
        else:
            System.EventFlags['cPlayer:ChyEvent_TalkFirst'] = true
            if System.EventFlags['cPlayer:ChyDaily_TalkFirst']:
                run Sub_grp_Event337()
            else:
                System.EventFlags['cPlayer:ChyDaily_TalkFirst'] = true
                if EventFlowSystemActor.IsSharePlay(0):
entrypoint Event336:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:168', false)
                else:
entrypoint Event249:
                    if EventFlowSystemActor.EnvHourCompare(10, -1, true, true) in (0, 1):
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:037', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:036', false)
                run Sub_Event252()

flow OpenEv_AfterQ():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:035', false)
    run Select_OpenEv_AfterQ()

flow OpenEv_BeforeQ():
    run Event239()

flow OpenEv_BeforeQ_First():
    run Event255()

flow OpenEv_SNPC_First():
    run Event249()

flow PointCheck():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:025', false)
    if System.EventFlags['cPlayer:CatchInsectFesCount'] < 10:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:025_01', true)
    else:
        run PointExchange()

flow PointExCancel():
    switch EventFlowSystemActor.EventCheck('InsectConvention'):
        case 0, 1:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:017', true)
        case 2:
            if EventFlowSystemActor.EnvHourCompare(20, -1, true, true) in (0, 1):
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:018', true)
            else:
                run AfterEv_Always()
        case 3:
            run AfterEv_Always()

flow PointExchange():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:011', false)
    if EventFlowSystemActor.SystemHasBaggageSpace('cPocketBag') < 1:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:010', true)
    else:
        System.EventFlags['cPlayer:CatchInsectFesCount'] += -10
        MainNpc.DecideEventReward('cTournamentInsect')
        EventFlowSystemActor.SetMemoryEventPlayerReward('cBlancoEventPlayer:PE_CatchInsectFes_Exchange')
        EventFlowSystemActor.PlayReport('cChyPointExchange', 0)
        MainNpc.SetEventRewardToPlayerBaggage('cFree')
        MainNpc.SetItemName(1, 4, 0)
        MainNpc.SetDeliveryItem(1, false)
        MainNpc.NpcDelivery(1, '"Default"')
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:012', false)
        if System.EventFlags['cPlayer:CatchInsectFesCount'] < 10:
            switch EventFlowSystemActor.EventCheck('InsectConvention'):
                case 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:013', true)
                case 1:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:014', true)
                case 2:
                    run TalkNextSchedule()
                case 3:
                    run Talk_AfterEv()
        else:
            EventFlowSystemActor.SetTagFromSystem('cEventFlag', 'cDegit', 1, 0, 'cPlayer:CatchInsectFesCount')
            if EventFlowSystemActor.SystemHasBaggageSpace('cPocketBag') < 1:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:015', true)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:016', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    run PointExchange()
                else:
                    run PointExCancel()

flow Quest_Result():
    if EventFlowSystemActor.IsMyVillage():
        System.EventFlags['cPlayer:ChmQuestFinish'] = false
        System.EventFlags['cPlayer:ChmTalkFirst_EvQuestFinish'] = true
        if System.EventFlags['cPlayer:ChyEvent_TalkFirst']:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:141', false)
        else:
            System.EventFlags['cPlayer:ChyEvent_TalkFirst'] = true
            if System.EventFlags['cPlayer:ChyDaily_TalkFirst']:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:144', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:140', false)
    else:
        System.EventFlags['cPlayerVisit:DC_ChmQuestFinish'] = false
        System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_EvQuestFinish'] = true
        if System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv']:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:141', false)
        else:
            System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv'] = true
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:140', false)
    if EventFlowSystemActor.IsMyVillage():
        if System.EventFlags['cPlayer:ChyEvent_ResultGetInsect'] < 1:
            run Sub_grp_Event325()
        else:
            run Sub_grp_Event353()
    else:
        if System.EventFlags['cPlayerTemp:CatchInsectFesGetNum'] < 1:
            run Sub_grp_Event325()
        else:
            run Sub_grp_Event353()

flow Result_Bonus_DC():
    run Event158()

flow Result_CatchP():
    run Event156()

flow Result_CatchP-Bonus_C():
    run Event181()

flow Result_CatchP-Bonus_DC():
    run Event182()

flow Result_CatchP-Bonus_DC-C():
    run Event183()

flow Result_CatchPOver_Bornus_C():
    run Event441()

flow Result_CatchPOver_Bornus_DC_C():
    run Event440()

flow Result_NoPoint():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:142', false)
    if EventFlowSystemActor.NetHasVisitor():
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:143', false)
    if System.EventFlags['cPlayer:CatchInsectFesCount'] < 10:
        if System.EventFlags['cPlayer:CatchInsectFesCount'] != 0:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:040', false)
            run TalkNextSchedule()
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:041', false)
            run TalkNextSchedule()
    else:
        if System.EventFlags['cPlayer:CatchInsectFesCount'] != 10:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:046', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:045', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            run PointExchange()
        else:
            run PointExCancel()

flow Root():
    run Tag_Num()
    run Tag_SET_HOUR()
    run Tag_SET_MONTH()
    if System.EventFlags['cLandTemp:CatchInsectFesQuestStart']:
        System.EventFlags['cLandTemp:FesEnterBalloon'] = true
        if EventFlowSystemActor.IsMyVillage():
            if System.EventFlags['cPlayer:ChyEvent_TalkFirst']:
                run Sub_grp_Event5()
            else:
                System.EventFlags['cPlayer:ChyEvent_TalkFirst'] = true
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:073', false)
        elif MainNpc.ChmFreeQuery2('cChmQueryType_IsEntryQuest'):
            if System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv']:
                run Sub_grp_Event5()
            else:
                System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv'] = true
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:073', false)
        elif System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv']:
            switch EventFlowSystemActor.RandomChoiceExcludePrevious3(3, true):
                case 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:112', false)
                case 1:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:113', false)
                case 2:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:114', false)
        else:
            System.EventFlags['cPlayerVisit:DC_ChmTalkFirst_BeforeEv'] = true
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:110', false)
    elif EventFlowSystemActor.IsMyVillage():
        if System.EventFlags['cPlayer:ChmQuestFinish']:
            run Quest_Result()
        else:
            run Sub_grp_Event282()
    else:
        if System.EventFlags['cPlayerVisit:DC_ChmQuestFinish']:
            run Quest_Result()
        else:
            run Sub_grp_Event282()

flow Select_OpenEv_AfterQ():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:047', false)
    switch EventFlowSystemActor.GeneralTalkChoice4():
        case 0:
            run Check_EvQ_Entry()
        case 1:
            run TalkRule()
        case 2:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:049', false)
            switch EventFlowSystemActor.GeneralTalkChoice4():
                case 0:
                    run SellInsect()
                case 1:
                    run PointCheck()
                case 2:
                    run Select_OpenEv_AfterQ()
                case 3:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:048', false)
        case 3:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:048', false)

flow SellBOX(SellTotal: int = 0):
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:120', false)
    switch EventFlowSystemActor.GeneralTalkChoice3():
        case 0:
            MainNpc.InsectFishBoxSellCalc(SellTotal, 1.5)
            EventFlowSystemActor.SetTagFromSystem('cFlow', 'cMoney', 5, SellTotal, '')
            EventFlowSystemActor.SetTagFromSystem('cInsectFishBoxNum', 'cDegit', 6, SellTotal, '')
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:123', false)
            if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                EventFlowSystemActor.UIMoneyAppear()
                switch EventFlowSystemActor.MoneyCapacity(SellTotal, 'cFishInsectFes'):
                    case 0:
                        MainNpc.InsectFishBoxSellDone(1.5)
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:125', false)
                    case 1:
                        MainNpc.InsectFishBoxSellDone(1.5)
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:126', false)
                    case 2:
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:124', false)
                        MainNpc.InsectFishBoxSellDone(1.5)
                switch EventFlowSystemActor.EventCheck('InsectConvention'):
                    case 0, 1:
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:127', false)
                    case 2:
                        if EventFlowSystemActor.EnvWeatherArea() == `cWeatherArea_North`:
                            if EventFlowSystemActor.EnvMonth() in (`January`, `February`, `March`, `April`, `May`, `June`, `July`, `August`):
                                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:128', false)
                            else:
                                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:129', false)
                        else:
                            if EventFlowSystemActor.EnvMonth() in (`January`, `February`, `March`, `April`, `May`, `June`, `July`, `August`, `September`, `October`, `November`):
                                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:128', false)
                            else:
                                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:129', false)
                    case 3:
                        run Talk_AfterEv()
            else:
                run SellBoxCancel()
        case 1:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:130', true)
        case 2:
entrypoint Event114:
            switch EventFlowSystemActor.EventCheck('InsectConvention'):
                case 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:130', true)
                case 1:
                    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:131', true)
                case 2:
                    if EventFlowSystemActor.EnvHourCompare(20, -1, true, true) == 0:
                        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:132', true)
                    else:
                        if EventFlowSystemActor.EnvHourCompare(0, -1, true, true) == 0:
                            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:133', true)
                        else:
                            run AfterEv_Always()
                case 3:
                    run AfterEv_Always()

flow SellBoxCancel():
    run Event114()

flow SellInsect(SellTotal: int = 0):
    if EventFlowSystemActor.HasKindItem('cKind', 'Insect', ''):
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:050', false)
        EventFlowSystemActor.UIItemSelectWindowHandling('cInsectSell', 65534, 'Insect', '', 'cItemSelect', false)
        if EventFlowSystemActor.UIResultMenuDecide():
            MainNpc.SetDeliveryItem(4, false)
            MainNpc.NpcDelivery(0, 'Keep')
            MainNpc.ShopSellCalc(SellTotal, 1.5, true, false)
            EventFlowSystemActor.SetTagFromSystem('cFlow', 'cMoney', 3, SellTotal, '""')
            if EventFlowSystemActor.UIResultItemWindowNumCheck(2, 'cItemSelect'):
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:051', false)
            else:
                EventFlowSystemActor.SetTagFromUIResult('cItemName', 1)
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:052', false)
            if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:054', false)
                EventFlowSystemActor.UIMoneyAppear()
                EventFlowSystemActor.MessageSuspend()
                MainNpc.NpcDelivery(7, 'Default')
                MainNpc.ShopSellDone(1.5, false)
                EventFlowSystemActor.UIMoneyDisappear()
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:053', true)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:058', false)
                MainNpc.NpcDelivery(10, 'Default')
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:059', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:057', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:056', true)

flow Share_OpenEv_BeforeQFirst():
    run Event336()

local flow Sub_Event252():
    if EventFlowSystemActor.NetHasVisitor():
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:022', false)
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:032', false)
        run Sub_grp_Event241()
    elif EventFlowSystemActor.IsSharePlay(0):
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:161', false)
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:162', false)
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:167', false)
        run Sub_grp_Event241()
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:021', false)
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:023', false)
        run Sub_grp_Event241()

local flow Sub_Event356():
    if EventFlowSystemActor.IsSharePlay(0):
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:163', true)
        run Sub_Event95()
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:063', true)
        run Sub_Event95()

local flow Sub_Event376():
    System.EventFlags['cPlayer:ChyEvent_TalkTrophyCopper'] = true
    run GetPoint_next()

local flow Sub_Event379():
    System.EventFlags['cPlayer:ChyEvent_TalkTrophySilver'] = true
    if System.EventFlags['cPlayer:ChyEvent_TalkTrophyCopper']:
        run GetPoint_next()
    else:
        run Sub_Event376()

local flow Sub_Event400():
    run Talk_AfterEv()
    run Sub_grp_Event398()

local flow Sub_Event95():
    MainNpc.MessageSuspend()
    System.EventFlags['cLand:CatchInsectFesGetTotalNum'] = 0
    System.EventFlags['cLandTemp:CatchInsectFesQuestStart'] = true
    System.EventFlags['cLandTemp:FesEnterBalloon'] = false
    MainNpc.ChmFreeAction('cChmActionType_InsectFesyEntry')
    if EventFlowSystemActor.IsSharePlay(0):
        EventFlowSystemActor.SetSharePlayChangeCondition(true)
    MainNpc.ChmFreeAction('cChmActionType_InsectFesStart')
    EventFlowSystemActor.SetMemoryEventPlayer('cBlancoEventPlayer:PE_CatchInsectFes_Join')

local flow Sub_grp_Event241():
    switch EventFlowSystemActor.GeneralTalkChoice4():
        case 0:
            run Check_EvQ_Entry()
        case 1:
            run TalkRule()
        case 2:
            run PointCheck()
        case 3:
            run EvQ_Entry_Cancel()

local flow Sub_grp_Event282():
    if EventFlowSystemActor.InsectFishBoxIsEmpty():
        run SellBOX()
    else:
        switch EventFlowSystemActor.EventCheck('InsectConvention'):
            case 0:
                run BeforeEv()
            case 1:
                System.EventFlags['cLandTemp:NNPC_CatchInsectFesAction_Continue'] = true
                run OpenEv()
                System.EventFlags['cLandTemp:NNPC_CatchInsectFesAction_Continue'] = false
            case 2, 3:
                run AfterEv()

local flow Sub_grp_Event325():
    if not EventFlowSystemActor.IsMyVillage():
        if System.EventFlags['cPlayerVisit:DC_CatchInsectFes_CooperativeBonus']:
            run Result_Bonus_DC()
        else:
            run Result_NoPoint()
    elif System.EventFlags['cPlayer:CatchInsectFes_CooperativeBonus']:
entrypoint Event158:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:145', false)
        run Check_TotaiPoint()
    else:
        run Result_NoPoint()

local flow Sub_grp_Event337():
    if EventFlowSystemActor.IsSharePlay(0):
        run Share_OpenEv_BeforeQFirst()
    else:
entrypoint Event255:
        if EventFlowSystemActor.EnvHourCompare(17, -1, true, true) in (0, 1):
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:020', false)
            run Sub_Event252()
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:031', false)
            run Sub_Event252()

local flow Sub_grp_Event353():
    if EventFlowSystemActor.IsSharePlay(0):
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:160', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:146', false)
    if EventFlowSystemActor.IsMyVillage():
        if System.EventFlags['cPlayer:CatchInsectFes_CooperativeBonus']:
            if not System.EventFlags['cPlayer:CatchInsectFes_Bonus']:
entrypoint Event182:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:149', false)
                run Check_TotaiPoint()
            elif System.EventFlags['cPlayer:ChyEvent_ResultGetInsect'] < 21:
entrypoint Event183:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:150', false)
                run Check_TotaiPoint()
            else:
entrypoint Event440:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:152', false)
                run Check_TotaiPoint()
        elif not System.EventFlags['cPlayer:CatchInsectFes_Bonus']:
entrypoint Event156:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:147', false)
            run Check_TotaiPoint()
        elif System.EventFlags['cPlayer:ChyEvent_ResultGetInsect'] < 21:
entrypoint Event181:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:148', false)
            run Check_TotaiPoint()
        else:
entrypoint Event441:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:151', false)
            run Check_TotaiPoint()
    else:
        if System.EventFlags['cPlayerVisit:DC_CatchInsectFes_CooperativeBonus']:
            if not System.EventFlags['cPlayerVisit:DC_CatchInsectFes_Bonus']:
                run Result_CatchP-Bonus_DC()
            elif System.EventFlags['cPlayerTemp:CatchInsectFesGetNum'] < 21:
                run Result_CatchP-Bonus_DC-C()
            else:
                run Result_CatchPOver_Bornus_DC_C()
        elif not System.EventFlags['cPlayerVisit:DC_CatchInsectFes_Bonus']:
            run Result_CatchP()
        elif System.EventFlags['cPlayerTemp:CatchInsectFesGetNum'] < 21:
            run Result_CatchP-Bonus_C()
        else:
            run Result_CatchPOver_Bornus_C()

local flow Sub_grp_Event398():
    if System.EventFlags['cPlayer:CatchInsectFesCount'] < 10:
        run Sub_grp_Event433()
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:094', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            run PointCheck()
        else:
            if EventFlowSystemActor.EnvHourCompare(20, -1, true, true) == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:092', false)
            else:
                run Sub_grp_Event433()

local flow Sub_grp_Event407():
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run PointExchange()
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:088', false)
        run Sub_grp_Event430()

local flow Sub_grp_Event430():
    if EventFlowSystemActor.EventCheck('InsectConvention') not in (0, 1, 2):
        run AfterEv_Always()
    elif EventFlowSystemActor.EnvWeatherArea() == `cWeatherArea_North`:
        switch EventFlowSystemActor.EnvMonth():
            case `June`, `July`, `August`:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:086', false)
            case `September`:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:087', false)
            default:
                return
    else:
        switch EventFlowSystemActor.EnvMonth():
            case `January`, `February`, `November`:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:086', false)
            case `December`:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:087', false)
            default:
                return

local flow Sub_grp_Event433():
    if EventFlowSystemActor.EventCheck('InsectConvention') not in (0, 1, 2):
        EventFlowSystemActor.MessageSuspend()
    elif EventFlowSystemActor.EnvWeatherArea() == `cWeatherArea_North`:
        switch EventFlowSystemActor.EnvMonth():
            case `June`, `July`, `August`:
                run AfterEv_TalkNextMonth()
            case `September`:
                run AfterEv_TalkNextYear()
            default:
                return
    else:
        switch EventFlowSystemActor.EnvMonth():
            case `January`, `February`, `November`:
                run AfterEv_TalkNextMonth()
            case `December`:
                run AfterEv_TalkNextYear()
            default:
                return

local flow Sub_grp_Event5():
    switch EventFlowSystemActor.RandomChoiceExcludePrevious3(3, true):
        case 0:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:070', true)
        case 1:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:071', true)
        case 2:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:072', true)

flow Tag_Num():
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cDegit', 0, 10, 'cPlayerTemp:CatchInsectFesGetNum')
    EventFlowSystemActor.SetTagFromSystem('cEventFlag', 'cDegit', 1, 0, 'cPlayer:CatchInsectFesCount')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cMoney', 2, 500, '')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cDegit', 4, 3, '')
    if EventFlowSystemActor.IsMyVillage():
        EventFlowSystemActor.SetTagFromSystem('cEventFlag', 'cDegit', 7, 0, 'cPlayer:ChyEvent_ResultGetPoint')
        EventFlowSystemActor.SetTagFromSystem('cEventFlag', 'cDegit', 8, 0, 'cPlayer:ChyEvent_ResultGetInsect')
    else:
        EventFlowSystemActor.SetTagFromSystem('cEventFlag', 'cDegit', 7, 0, 'cPlayerTemp:CatchFesGetPoint')
        EventFlowSystemActor.SetTagFromSystem('cEventFlag', 'cDegit', 8, 0, 'cPlayerTemp:CatchInsectFesGetNum')
    EventFlowSystemActor.SetTagFromSystem('cEventFlag', 'cDegit', 9, 0, 'cLand:CatchInsectFesGetTotalNum')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cDegit', 10, 5, '')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cDegit', 11, 300, '')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cDegit', 12, 200, '')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cDegit', 13, 100, '')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cDegit', 14, 3, '')

flow Tag_SET_HOUR():
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cHour', 0, 9, '')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cHour', 1, 18, '')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cHour', 2, 20, '')
    EventFlowSystemActor.SetTagFromSystem('cFlow', 'cHour', 3, 5, '')

flow Tag_SET_MONTH():
    EventFlowSystemActor.SetTagFromSystem('cNextInsectEvent', 'cDegit', 0, 0, '')

flow TalkNextSchedule():
    if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:042', true)
    elif EventFlowSystemActor.EnvWeatherArea() == `cWeatherArea_North`:
        if EventFlowSystemActor.EnvMonth() in (`January`, `February`, `March`, `April`, `May`, `June`, `July`, `August`):
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:044', true)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:043', true)
    else:
        if EventFlowSystemActor.EnvMonth() in (`January`, `February`, `March`, `April`, `May`, `June`, `July`, `August`, `September`, `October`, `November`):
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:044', true)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:043', true)

flow TalkRule():
    if EventFlowSystemActor.NetHasVisitor():
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:038', false)
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:028', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:027', false)
        if EventFlowSystemActor.IsSharePlay(0):
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:164', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:028', false)
    if EventFlowSystemActor.NetHasVisitor():
        MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:033', false)
    else:
        if System.EventFlags['cPlayer:ChmTalkFirst_EvQuestFinish']:
            if EventFlowSystemActor.IsSharePlay(0):
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:165', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:029', false)
        elif EventFlowSystemActor.IsSharePlay(0):
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:166', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:030', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run Check_EvQ_Entry()
    else:
        run EvQ_Entry_Cancel()

flow Talk_AfterEv():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:170', false)

flow TotalPoint_To_oedinaryP():
    MainNpc.OpenMessageWindow('TalkSNpc/chy/SP_chy_event:207', false)

