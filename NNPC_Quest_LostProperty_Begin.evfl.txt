flow Begin():
    switch MainNpc.NpcLostQuestType():
        case 0:
            if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:001', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:011', false, false)
                    run Sub_Event137()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:015', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:002', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:012', false, false)
                    run Sub_Event137()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:016', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
        case 1:
            if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:003', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:013', false, false)
                    run Sub_Event4()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:017', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:004', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:014', false, false)
                    run Sub_Event4()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:018', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
        case 2:
            if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:006', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:020', false, false)
                    run Sub_Event3()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:024', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:007', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:021', false, false)
                    run Sub_Event3()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:025', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
        case 3:
            if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:008', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:022', false, false)
                    run Sub_Event6()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:026', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:009', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:023', false, false)
                    run Sub_Event6()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:027', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true

flow Begin_Ap():
    switch MainNpc.NpcLostQuestType():
        case 0, 2:
            run NNPC_Approach::Reselection()
        case 1:
            if MainNpc.CheckNpcApproachType():
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:101', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:103', false, false)
                    run Sub_Event172()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:104', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:102', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:105', false, false)
                    run Sub_Event172()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:106', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
        case 3:
            if MainNpc.CheckNpcApproachType():
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:201', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:203', false, false)
                    run Sub_Event170()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:204', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:202', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.QuestStartOpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:205', false, false)
                    run Sub_Event170()
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Quest/BO_Quest_LostProperty_Begin:206', false)
                    System.EventFlags['cPlayerTemp:QuestCancell'] = true

local flow Sub_Event137():
    MainNpc.NpcQuestControl('cStart')
    MainNpc.EventFlags['cNpcMemory:OrderQuest'] = true

local flow Sub_Event170():
    MainNpc.NpcQuestControl('cStart')
    run Sub_Event8()

local flow Sub_Event172():
    MainNpc.NpcQuestControl('cStart')
    run Sub_Event8()

local flow Sub_Event3():
    MainNpc.NpcQuestControl('cStart')
    MainNpc.EventFlags['cNpcMemory:OrderQuest'] = true

local flow Sub_Event4():
    MainNpc.NpcQuestControl('cStart')
    MainNpc.EventFlags['cNpcMemory:OrderQuest'] = true

local flow Sub_Event6():
    MainNpc.NpcQuestControl('cStart')
    MainNpc.EventFlags['cNpcMemory:OrderQuest'] = true

local flow Sub_Event8():
    MainNpc.EventFlags['cNpcMemory:ApproachQuestOrdered'] = true
    MainNpc.EventFlags['cNpcMemory:OrderQuest'] = true

