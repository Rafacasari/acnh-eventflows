flow Root():
    if EventFlowSystemActor.IsMyVillage():
        if MainNpc.NpcCheckPastDays('cLastTalk', 30):
            if EventFlowSystemActor.PlayerPastDaysFromLastPlay(30):
                if MainNpc.NpcCheckPastDays('cLastTalk', 365):
                    run Sub_Event9()
                else:
                    MainNpc.NpcPastDaysFromLastTalkDateToTag()
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Missing30:004', false)
                    run Sub_Event5()
            elif MainNpc.NpcCheckPastDays('cLastTalk', 365):
                run Sub_Event9()
            else:
                MainNpc.NpcPastDaysFromLastTalkDateToTag()
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Missing30:005', false)
                run Sub_Event5()
        else:
            if MainNpc.NpcCheckPastDays('cLastTalk', 7):
                if not EventFlowSystemActor.PlayerPastDaysFromLastPlay(7):
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Missing7:002', false)
                    run Sub_Event5()
                elif not EventFlowSystemActor.PlayerPastDaysFromLastPlay(30):
                    MainNpc.NpcPastDaysFromLastTalkDateToTag()
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Missing7:001', false)
                    run Sub_Event5()

local flow Sub_Event5():
    MainNpc.SetNpcFeel('cNormal', 120, false)
    run NNPC_Talk_Situation::Facility_Chk()
    EventFlowSystemActor.ExitFlowchart()

local flow Sub_Event9():
    if EventFlowSystemActor.RandomChoiceExcludePrevious3(3, true) == 0:
        MainNpc.NpcPastDaysFromLastTalkDateToTag()
        if MainNpc.NpcPastYMFromLastTalkDate():
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Missing30:001', false)
            run Sub_Event5()
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Missing30:002', false)
            run Sub_Event5()
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Missing30:003', false)
        run Sub_Event5()

