flow Cmn_PlayerDemo():
    Player.PlayerChangeDemoState('cTicketPullout')
    Player.OpenMessageWindow('TalkSys/SYS_Player:509', false)
    Player.PlayerChangeDemoState('cTicketShow')
    Player.OpenMessageWindow('TalkSys/SYS_Player:210', true)
    Player.PlayerChangeDemoState('cTicketPutaway')

flow GetDemo_NpcSpReiPhoto():
    Player.PlayerChangeDemoState('cTicketPullout')
    Player.OpenMessageWindow('TalkFtr/FTR_CrsSocksWall:001_1', false)
    Player.PlayerChangeDemoState('cTicketShow')
    Player.OpenMessageWindow('TalkFtr/FTR_CrsSocksWall:001_2', true)
    Player.PlayerChangeDemoState('cTicketPutaway')

flow Get_AccentWall_CeilingFtr():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_20', false)
    System.EventFlags['cPlayer:WHEREAREN_Unlock_AccentWall'] = true
    System.EventFlags['cPlayer:UnlockInterior_CeilingFurniture'] = true

flow Get_AddBridgeSlope():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_25', false)
    System.EventFlags['cLand:RcoUnlockBridgeSlopePlus2'] = true
    System.EventFlags['cPlayer:BuildAddtionalBridgeSlopeIntroduction'] = true

flow Get_AppTips():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_24', false)
    System.EventFlags['cPlayer:UnlockBuyTipsApp'] = false

flow Get_App_Licence_Cliff():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_02', false)
    System.EventFlags['cPlayer:GetLicenseCliff'] = true

flow Get_App_Licence_Path():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_03', false)
    System.EventFlags['cPlayer:GetLicenseGrdMydesign'] = true

flow Get_App_Licence_Path0():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_04', false)
    System.EventFlags['cPlayer:GetLicenseGrdStone'] = true

flow Get_App_Licence_Path1():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_05', false)
    System.EventFlags['cPlayer:GetLicenseGrdBrick'] = true

flow Get_App_Licence_Path2():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_06', false)
    System.EventFlags['cPlayer:GetLicenseGrdDarkSoil'] = true

flow Get_App_Licence_Path3():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_07', false)
    System.EventFlags['cPlayer:GetLicenseGrdStonePattern'] = true

flow Get_App_Licence_Path4():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_08', false)
    System.EventFlags['cPlayer:GetLicenseGrdSand'] = true

flow Get_App_Licence_Path5():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_09', false)
    System.EventFlags['cPlayer:GetLicenseGrdTile'] = true

flow Get_App_Licence_Path6():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_10', false)
    System.EventFlags['cPlayer:GetLicenseGrdWood'] = true

flow Get_App_Licence_River():
    Player.OpenMessageWindow('TalkSys/SYS_Player:211_01', false)
    System.EventFlags['cPlayer:GetLicenseRiver'] = true

flow Get_App_MydesignPRO():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_08', false)
    System.EventFlags['cPlayer:MainmenuUnlockMydesingPro'] = true

flow Get_Body_Color():
    System.EventFlags['cPlayer:AddBodyColor'] = true
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_09', false)

flow Get_Camera1stPersonView():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_19', false)

flow Get_DIYRecipePlusCooking():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_16', false)
    EventFlowSystemActor.PlayerSetCookingRecipe('DishSetRecipePlus', 65534)
    EventFlowSystemActor.PlayerSetCraftRecipe('', 13496)
    switch EventFlowSystemActor.LandFruit():
        case 0:
            EventFlowSystemActor.PlayerSetCookingRecipe('', 13991)
        case 1:
            EventFlowSystemActor.PlayerSetCookingRecipe('', 14001)
        case 2:
            EventFlowSystemActor.PlayerSetCookingRecipe('', 13995)
        case 3:
            EventFlowSystemActor.PlayerSetCookingRecipe('', 13999)
        case 4:
            EventFlowSystemActor.PlayerSetCookingRecipe('', 14000)

flow Get_Emoticon_ByBook():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_14', false)
    run UploadEmoticon()

flow Get_Eye_Color():
    System.EventFlags['cPlayer:AddEyeColor'] = true
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_10', false)

flow Get_FenceRemake():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_21', false)
    System.EventFlags['cPlayer:FenceRemakeEnable'] = true
    EventFlowSystemActor.PlayerSetCraftRecipe('FenceRemake', 65534)

flow Get_Hair_Color():
    System.EventFlags['cPlayer:AddHairColor'] = true
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_03', false)

flow Get_Hair_Cool():
    System.EventFlags['cPlayer:AddHairStyle2'] = true
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_02', false)

flow Get_Hair_Pop():
    System.EventFlags['cPlayer:AddHairStyle1'] = true
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_01', false)

flow Get_Hair_Rock():
    System.EventFlags['cPlayer:AddHairStyle4'] = true
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_13', false)

flow Get_Hair_v200():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_22', false)
    System.EventFlags['cPlayer:UnlockPlayerHair44'] = true
    System.EventFlags['cPlayer:UnlockPlayerHair37'] = true
    System.EventFlags['cPlayer:UnlockPlayerHair45'] = true
    System.EventFlags['cPlayer:UnlockPlayerHair42'] = true

flow Get_ItemRing():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_06', false)
    System.EventFlags['cPlayer:ItemRingEnable'] = true
    if EventFlowSystemActor.IncludeHorizontalController():
        Player.OpenMessageWindow('TalkSys/SYS_Player:210_06_02', false)
    else:
        Player.OpenMessageWindow('TalkSys/SYS_Player:210_06_01', false)

flow Get_MydesignPRO2():
    System.EventFlags['cPlayer:UnlockMydesignPro2'] = true
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_12', false)

flow Get_MydesignPattern():
    if System.EventFlags['cPlayer:HgsGotCloth']:
        Player.OpenMessageWindow('TalkSys/SYS_Player:210_18', false)
    else:
        Player.OpenMessageWindow('TalkSys/SYS_Player:210_17', false)
    EventFlowSystemActor.UnlockItemRemakeCommonPatternUpdate()

flow Get_MydesignShowcase():
    System.EventFlags['cPlayer:MainmenuMydesignShowcase'] = true
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_15', false)

flow Get_Pocket30():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_04', false)
    System.EventFlags['cPlayer:UpgradePocket30'] = true
    if EventFlowSystemActor.OfficeLevel() == `ResServiceBuilding`:
        System.EventFlags['cPlayer:SellPocket40'] = true

flow Get_Pocket40():
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_05', false)
    System.EventFlags['cPlayer:UpgradePocket40'] = true

flow Get_ReactionSet1():
    EventFlowSystemActor.GetReaction('cBook1_6')
    fork:
        branch:
            run UploadEmoticon()
        branch:
            Player.OpenMessageWindow('TalkSys/SYS_Player:210_14', false)

flow Get_Reaction_v200():
    EventFlowSystemActor.GetReaction('cBook2_0')
    fork:
        branch:
            run UploadEmoticon()
        branch:
            Player.OpenMessageWindow('TalkSys/SYS_Player:210_23', false)

flow Get_Reipe_Tools():
    EventFlowSystemActor.PlayerSetCraftRecipe('DIYbookNormalTools', 65534)
    Player.OpenMessageWindow('TalkSys/SYS_Player:210_07', false)

flow UploadEmoticon():
    if (EventFlowSystemActor.NetHasPOPID(false)) and (System.EventFlags['cPlayer:Activate_WebService']) and (EventFlowSystemActor.NetMode() == 2):
        EventFlowSystemActor.NetUploadEmoticon(true, 5, false)

