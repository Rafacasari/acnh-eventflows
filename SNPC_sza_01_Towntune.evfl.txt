flow Root():
    EventFlowSystemActor.UIMelodyEditCreate()
    if System.EventFlags['cPlayer:ShizueCmnExplanationTowntune']:
        MainNpc.OpenMessageWindow('TalkSNpc/sza/SP_sza_0_common:005', true)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/sza/SP_sza_0_common:004', true)
        System.EventFlags['cPlayer:ShizueCmnExplanationTowntune'] = true
    EventFlowSystemActor.UIMelodyEditHandling()
    switch EventFlowSystemActor.UIResultMelodyEdit():
        case 0:
            EventFlowSystemActor.SaveSetFromUIResult('cMelody')
            MainNpc.OpenMessageWindow('TalkSNpc/sza/SP_sza_0_common:007', true)
            MainNpc.SzaPlayMelody()
            MainNpc.OpenMessageWindow('TalkSNpc/sza/SP_sza_0_common:009', true)
            EventFlowSystemActor.NpcPlayerActivity('cActivityType_ChangeMelody')
            MainNpc.SzaAchievementChangeSymbol('cMelody')
            EventFlowSystemActor.SetMemoryEventLand('cBlancoEventLand:LE_UpdateLandMelody')
        case 1:
            MainNpc.OpenMessageWindow('TalkSNpc/sza/SP_sza_0_common:007', true)
            MainNpc.SzaPlayMelody()
            MainNpc.OpenMessageWindow('TalkSNpc/sza/SP_sza_0_common:008', false)
        case 2:
            MainNpc.OpenMessageWindow('TalkSNpc/sza/SP_sza_0_common:006', false)
    run SNPC_sza_00_Common::Sza_CmnSel_Again()

