flow Root():
    if EventFlowSystemActor.SystemCheckPastDaysFromPlayerMade() < 1:
        run S501()
    else:
        switch MainNpc.NpcInducementType():
            case 0:
                if (not MainNpc.NpcBirthType('cGrowup')) and (not MainNpc.NpcBirthType('cSettler')):
                    MainNpc.NpcSetLastLandWord()
                    if not MainNpc.NpcBirthType('cForeign'):
                        run S421()
                    elif MainNpc.EventFlags['cNpcMemory:SameLand']:
                        run S401()
                    else:
                        run S411()
                else:
                    run S511()
            case 1:
                MainNpc.NpcSetLastLandWord()
                if MainNpc.InducePlayerExist():
                    MainNpc.SetPlayerName(0)
                    run S001()
                else:
                    run S011()
            case 2:
                if MainNpc.InducePlayerExist():
                    MainNpc.SetPlayerName(0)
                    run S101()
                else:
                    run S111()
            case 3:
                if MainNpc.InducePlayerExist():
                    MainNpc.SetPlayerName(0)
                    run S201()
                else:
                    run S211()
            case 4:
                if MainNpc.InducePlayerExist():
                    MainNpc.SetPlayerName(0)
                    run S301()
                else:
                    run S311()

flow S001():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:004', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:001', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:002', false)

flow S011():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:014', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:011', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:012', false)

flow S101():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:104', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:101', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:102', false)

flow S111():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:114', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:111', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:112', false)

flow S201():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:204', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:201', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:202', false)

flow S211():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:214', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:211', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:212', false)

flow S301():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:304', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:301', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:302', false)

flow S311():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:314', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:311', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:312', false)

flow S401():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:404', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:401', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:402', false)

flow S411():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:414', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:411', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:412', false)

flow S421():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:424', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:421', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:422', false)

flow S501():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:504', false)
    elif MainNpc.IsNnpcTent():
        switch MainNpc.CheckNpcLook():
            case 0, 1, 2, 4, 6, 7:
                run Sub_grp_Event91()
            case 3:
                MainNpc.OpenMessageWindow('TalkNNpc/G4_An/React/AN_React_First_Stranger:316', false)
            case 5:
                MainNpc.OpenMessageWindow('TalkNNpc/B2_Ha/React/HA_React_First_Stranger:316', false)
    else:
        run Sub_grp_Event91()

flow S511():
    if MainNpc.NpcIsQuestClient('cSick', false, false):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:514', false)
    elif MainNpc.NpcLivingDays(7):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:513', false)
    elif (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:511', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:512', false)

local flow Sub_grp_Event91():
    if (not MainNpc.NpcLivingDays(1)) and (MainNpc.NpcIsMovingRoom() == 0):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:501', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_First_Stranger:502', false)

