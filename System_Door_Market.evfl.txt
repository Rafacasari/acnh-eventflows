flow Market_ClosedTime():
    if System.EventFlags['cLand:RegulationType2']:
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Door:111_00_01', false)
    elif System.EventFlags['cLand:RegulationType3']:
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Door:111_00_02', false)
    else:
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Door:111', false)

flow Root():
    if EventFlowSystemActor.NetIsDreaming():
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Door:111_02', false)
        EventFlowSystemActor.SetCheckResultStructureDoor(CheckResult=1)
    elif not EventFlowSystemActor.IsDuringBusinessHours('Market'):
        run Market_ClosedTime()
        EventFlowSystemActor.SetCheckResultStructureDoor(CheckResult=1)
    elif EventFlowSystemActor.EnvHourOverGrowUp():
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Door:111_01', false)
        EventFlowSystemActor.SetCheckResultStructureDoor(CheckResult=1)
    else:
        EventFlowSystemActor.SetCheckResultStructureDoor(CheckResult=0)

