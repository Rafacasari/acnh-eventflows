flow Root():
    if SubflowResults@2[17] == 1:
        if SubflowResults@4[18] not in (0, 1):
            MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:050', false)
        SubflowResults[14] = 1
        if System.EventFlags['cPlayer:PAAboutUnlockIslandRegulation']:
            switch EventFlowSystemActor.TodayChangeRegulation():
                case 1:
                    if System.EventFlags['cLand:EverChangedRegulation']:
                        MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:051_02', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:051_01', false)
                    MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:051_03', false)
                case 2:
                    if System.EventFlags['cLand:EverChangedRegulation']:
                        MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:052_02', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:052_01', false)
                    MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:052_03', false)
                case 3:
                    if System.EventFlags['cLand:EverChangedRegulation']:
                        MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:053_02', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:053_01', false)
                    MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:053_03', false)
                case 4:
                    if System.EventFlags['cLand:EverChangedRegulation']:
                        MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:054_02', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:054_01', false)
                    MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:054_03', false)
                case 5:
                    MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_01_Sza:055', false)
                default:
                    return
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_11_Sza_Once:1001', false)
            MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_11_Sza_Once:1002', false)
            if System.EventFlags['cPlayer:MakeVillagePlayerFlag']:
                MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_11_Sza_Once:1003', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/PublicAnnouncement/SP_PublicAnnouncement_11_Sza_Once:1003_01', false)
            System.EventFlags['cPlayer:PAAboutUnlockIslandRegulation'] = true

