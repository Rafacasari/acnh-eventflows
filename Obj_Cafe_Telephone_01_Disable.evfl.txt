flow Check_Availability():
    if EventFlowSystemActor.NetIsDreaming():
        SubflowResults[0] = 1
    elif not EventFlowSystemActor.IsMyVillage():
        SubflowResults[0] = 2
    elif EventFlowSystemActor.IsSharePlay(0):
        SubflowResults[0] = 3
    elif EventFlowSystemActor.NetHasVisitor():
        SubflowResults[0] = 5
    elif EventFlowSystemActor.IsVillageGateOpened():
        SubflowResults[0] = 4

flow Root():
    run Check_Availability()
    switch SubflowResults@6[0]:
        case 1:
            Player.OpenMessageWindow('TalkObj/OBJ_Cafe_Telephone:000_01', false)
            run Sub_Event0()
        case 2:
            Player.OpenMessageWindow('TalkObj/OBJ_Cafe_Telephone:000_02', false)
            run Sub_Event0()
        case 3:
            Player.OpenMessageWindow('TalkObj/OBJ_Cafe_Telephone:000_03', false)
            run Sub_Event0()
        case 4:
            Player.OpenMessageWindow('TalkObj/OBJ_Cafe_Telephone:000_04', false)
            run Sub_Event0()
        case 5:
            Player.OpenMessageWindow('TalkObj/OBJ_Cafe_Telephone:000_05', false)
            run Sub_Event0()
        default:
            return

local flow Sub_Event0():
    Player.PlayerMuseumCafe(5, false)
    EventFlowSystemActor.ExitFlowchart()

