flow MoveMyHouseOngoing(ItemPrice: int = 0):
    EventFlowSystemActor.NpcEventItemSet(5358, 'cTalk', 0, ItemPrice)
    if System.EventFlags['cLand:RcoMoveReservedAnyone'] != 2:
        EventFlowSystemActor.UIMoneyAppear()
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:020', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:021', false)
            EventFlowSystemActor.DeleteTargetItem(5358, 1, false)
            if System.EventFlags['cPlayer:RcoBuildMovingPurchase_v200']:
                EventFlowSystemActor.BellCountDown(8000, false)
            else:
                EventFlowSystemActor.BellCountDown(30000, false)
            System.EventFlags['cPlayer:RcoMoveHouseReserved'] = false
            System.EventFlags['cLand:RcoMoveReservedAnyone'] = 0
            System.EventFlags['cLand:RcoMoveReservedKind'] = 0
            System.EventFlags['cPlayer:RcoMoveSomeBuiding'] = false
            EventFlowSystemActor.StructureMoveSaveIndex(2)
            EventFlowSystemActor.UIMoneyDisappear()
        else:
            EventFlowSystemActor.UIMoneyDisappear()
            MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:022', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:023', false)

flow Root(ItemPrice: int = 0):
    run SNPC_rco_10_Common_Move::MoveBuildStateChk()
    run SNPC_rco_10_Common_Move::MoveBuildKindChk()
    if SubflowResults@3[0] == 0:
        EventFlowSystemActor.UIMoneyAppear()
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:013', false)
        if EventFlowSystemActor.GeneralTalkChoice2() != 0:
            MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:014', false)
            EventFlowSystemActor.UIMoneyDisappear()
            if EventFlowSystemActor.OfficeLevel() == `ResServiceBuilding`:
                run SNPC_rco_00_Common::Rco_Office_CmnSelAgain()
        elif not EventFlowSystemActor.HasBellCount(8000):
            MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:015', false)
            EventFlowSystemActor.UIMoneyDisappear()
        elif EventFlowSystemActor.ShoppingCapacity('cItemName', 5358):
            EventFlowSystemActor.BellCountDown(-8000, false)
            System.EventFlags['cPlayer:RcoBuildMovingPurchase_v200'] = true
            MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:017', false)
            EventFlowSystemActor.SetItemToPocket(5358, 1)
            EventFlowSystemActor.StructureMoveSaveIndex(0)
            EventFlowSystemActor.NpcEventItemSet(5358, 'cTalk', 0, ItemPrice)
            MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:018', false)
            System.EventFlags['cPlayer:RcoMoveHouseReserved'] = true
            System.EventFlags['cLand:RcoMoveReservedAnyone'] = 1
            System.EventFlags['cLand:RcoMoveReservedKind'] = 1
            System.EventFlags['cPlayer:RcoMoveSomeBuiding'] = true
            EventFlowSystemActor.UIMoneyDisappear()
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:016', false)
            EventFlowSystemActor.UIMoneyDisappear()
    else:
        run SNPC_rco_10_Common_Move::MoveBuildError()

