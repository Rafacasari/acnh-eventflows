flow Again():
    MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_00_common:141_02', false)
    MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_00_common:142', false)
    switch EventFlowSystemActor.GeneralTalkChoice3():
        case 0:
            run SNPC_rcm_00_Common::Rcm_Groceries_Buy_Process()
        case 1:
            MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_00_common:143', false)
            run Again()
        case 2:
            run SNPC_rcm_00_Common::Rcm_Groceries_Buy_Cancel()

flow AgainLecture_v200():
    MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_00_common:4205', false)
    MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_00_common:4206', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run EndLecture_v200()
    else:
        run AgainLecture_v200()

flow EndLecture_v200():
    MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_00_common:4207', false)
    if EventFlowSystemActor.ShopLevel() != `InResServiceTent`:
        Player.TurnBody(13, 0.0)
        Player.PlayerWaitTurn()
    run SNPC_rcm_00_Common::Rcm_Common_BuyAgain2()

flow MarinesuitLecture_v200():
    if (EventFlowSystemActor.MultiKindItemSelectInclude('MarineSuit', '', '', '', '', '', '', '', 'cItemSelect')) and (System.EventFlags['cPlayer:LectureAboutMarinesuitBuyIt']):
        System.EventFlags['cPlayer:LectureAboutMarinesuitBuyIt'] = false
        EventFlowSystemActor.MessageSuspend()
        EventFlowSystemActor.UIShopBuyDisappear()
        if (not EventFlowSystemActor.NetIsConnected()) and (EventFlowSystemActor.ShopLevel() != `InResServiceTent`):
            MainNpc.NpcMoveToPlayer()
        Player.PlayerChangeStateDemoTalk()
        Player.TurnBody(0, 0.0)
        Player.PlayerWaitTurn()
        MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_00_common:4203', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            run AgainLecture_v200()
        else:
            run EndLecture_v200()

flow Root():
    System.EventFlags['cPlayer:RcmTalkAboutMarinesuitFlag'] = true
    System.EventFlags['cPlayer:LectureAboutMarinesuitBuyIt'] = true
    MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_00_common:4201', false)
    MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_00_common:4202', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run SNPC_rcm_00_Common::Rcm_Groceries_Buy_Process()
    else:
        run SNPC_rcm_00_Common::Rcm_Groceries_Buy_Cancel()

